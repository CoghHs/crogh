# 🖌️ CrogH - 크로키 타이머 웹 앱

> **그림 연습에 최적화된, 심플하고 직관적인 크로키 타이머 플랫폼**
> Unsplash 이미지를 기반으로 다양한 스타일의 모델을 참고하며 그림 연습을 이어갈 수 있습니다.

---

## 🎯 기획 의도

크로키 연습에 필요한 이미지와 타이머를 한 화면에서 사용할 수 있도록, 직관적이고 간편한 플랫폼을 만들고자 했습니다.
타이머는 고정된 UI가 아닌 **드래그 가능한 구조**로 구현해, 이미지가 화면을 최대한 활용할 수 있도록 했고,
이를 통해 **고화질 이미지와 높은 편의성을 동시에 갖춘 연습 환경**을 제공합니다.
또한, **사용자가 직접 그림을 업로드하고 다른 사람의 그림도 열람할 수 있는 기능**을 통해 연습 외에도 공유와 감상이 가능한 공간을 제공합니다.

이 앱은 **"간단하게, 빠르게, 자유롭게 그리자"** 라는 방향으로 제작되었으며:

* 타이머와 이미지가 함께 보이는 일체형 화면
* 드래그 가능한 위치 조정 타이머
* Unsplash 기반의 다양한 이미지 스타일 제공

을 통해 누구나 손쉽게 그림 연습을 할 수 있는 환경을 제공합니다.

---

## ⚙️ 사용 기술 스택

| 분야                    | 기술                                            |
| --------------------- | --------------------------------------------- |
| **Frontend**          | Next.js 14 (App Router), React 18, TypeScript |
| **Styling**           | Tailwind CSS, @tailwind/forms                 |
| **Animation**         | Framer Motion (motion)                        |
| **Form & Validation** | React Hook Form, Zod                          |
| **State/Data**        | React Query v5, useForm, Server Actions       |
| **Database**          | Prisma + Neon (PostgreSQL), @vercel/postgres  |
| **Image API**         | Unsplash API                                  |
| **기타**                | bcrypt, iron-session, react-masonry-css 등     |

---

## 📌 주요 기능

- 카테고리별 이미지 탐색 (포즈 / 얼굴 / 손 등)
- 타이머 설정 및 종료 알림
- 드래그 가능한 타이머 UI
- 무한 이미지 페이지네이션 (스크롤 또는 버튼)
- 게시물 업로드 기능 (그림 + 글)
- 좋아요 기능 및 즐겨찾기 목록 조회
- 회원가입 / 로그인 / 마이페이지 흐름

---

## 🖼️ 전체 페이지 구성

크로키 타이머 웹은 아래와 같은 페이지 흐름으로 구성되어 있습니다:

* 비회원 홈 → 회원가입 → 로그인
* 카테고리 탐색 → 타이머 화면 진입
* 게시물 열람 및 업로드 → 마이페이지 관리

---

## 🎞️ 기능 시연

### 🔐 비회원 홈 → 회원가입 페이지 → 로그인

![로그인](https://github.com/user-attachments/assets/9cdcdc22-7b58-4902-8946-2e2e2dadaabd)

### 🔁 카테고리 선택 + 크로키 + 타이머 + 좋아요

![크로키](https://github.com/user-attachments/assets/52d359e8-60b8-40ae-b221-25c7ae17bded)

### 🖼️ 게시물 업로드 

![업로드](https://github.com/user-attachments/assets/af35ace1-63b5-49be-ad8b-c31e43404c9f)

### 📝 게시판 + 마이페이지

![게시판](https://github.com/user-attachments/assets/c76a3903-50ce-454f-894a-454aaa02927a)

---

## ⚒️ 트러블슈팅 (문제 해결)

### 1. 이미지 품질 저하 문제

- **문제**: Unsplash API로 가져온 이미지가 고해상도 환경(특히 데스크탑)에서 흐릿하게 보이는 현상이 발생
- **해결**:
  - regular URL에 `~&w=1980&q=8` 와 같은 파라미터를 수동으로 추가하여 더 높은 품질로 요청
  - 해상도 대비 적절한 품질을 제공하는 수준으로 최적화하여 렌더링 성능도 고려

---

### 2. 작성 완료 버튼 중복 클릭 방지

- **문제**: 업로드 중에도 "작성 완료" 버튼을 여러 번 누를 수 있어 중복 요청 발생 가능성 존재
- **해결**:
  - `react-hook-form`의 `formState.isSubmitting` 값을 활용해 버튼 비활성화 처리
  - 커스텀 버튼에서 로딩 상태 텍스트 표시와 함께 `disabled` 스타일 적용

---

### 3. 무한 스크롤 UX 개선

- **문제**: 사용자가 10번째 이미지에 도달한 뒤에야 다음 이미지를 요청하는 구조로 UX가 끊김
- **해결**:
  - `useInfiniteQuery`와 Intersection Observer를 활용하여 8번째 또는 9번째 이미지 진입 시 다음 페이지 미리 요청
  - 이미지 전환 시 로딩 지연 없이 부드러운 사용자 경험 제공

---

### 4. 타이머 기능 재사용 구조 개선

- **문제**: 타이머 기능이 `카테고리 > 타이머` 페이지에만 종속되어 있어 즐겨찾기 페이지에서 재활용이 불가능
- **해결**:
  - 타이머 및 이미지 탐색 관련 로직을 `useCroquisTimer` 커스텀 훅으로 분리
  - 이미지 배열, 인덱스, 타이머 상태 등을 훅에서 관리하도록 설계 변경
  - 결과적으로 즐겨찾기한 이미지에서도 동일한 타이머 인터페이스로 연습 가능하게 개선


---

## 🔮 향후 개선 계획

* 📝 카테고리별 필터링 정교화 (예: 남성/여성, 동세 등)
* 💡 다크 모드, 타이머 커스터마이징 옵션 추가
* 💬 댓글 작성

---

## 🧪 실행 방법 (개발용)

```bash
npm install
npx prisma migrate dev
npm run dev
```

---

## 🔗 배포 주소

👉 [https://crogh.vercel.app](https://crogh.vercel.app)
